require(['domReady','jquery','leaflet','slick'],function(domReady,$,leaflet,slick){'use strict';$.migrateMute=true;domReady(function(){$('#search_mini_form').on('submit',function(event){event.preventDefault();});$('#attachement').change(function(){var name=$('#attachement')[0].files[0].name;$('.attachment-name').text(name);$('.attachment-name').fadeIn();});$('.js__sideCatsArrow').on('click',function(){var sideCatsItem=$(this).parents('.js__sideCatsItem');sideCatsItem.toggleClass('open');});var to=null;var iv=null;$(".cart-add").on("mousedown",function(){var el=$(this).parent().find('.qty');if(!$(el).is(':disabled')){var value=parseInt(el.val());value++;el.val(value);to=setTimeout(function(){iv=setInterval(function(){value++;el.val(value);},75);},500);}}).on("mouseup mouseleave",function(){clearTimeout(to);clearInterval(iv);});$(".cart-minus").on("mousedown",function(){var el=$(this).parent().find('.qty');if(!$(el).is(':disabled')){var value=parseInt(el.val());if((value-1)>0){value--;el.val(value);}
to=setTimeout(function(){iv=setInterval(function(){if((value-1)>0){value--;el.val(value);}},75);},500);}}).on("mouseup mouseleave",function(){clearTimeout(to);clearInterval(iv);});$('.js__tos-check').on('change',function(){var form=$(this).parents('form');var button=form.find('[type="submit"]');var checks=form.find('.js__tos-check');var checkLength=checks.length;if(checkLength==checks.filter(':checked').length){button.prop('disabled',false);}else{button.prop('disabled',true);}});$('body').on('change','.checkout_js__tos-check',function(){var form=$(this).parents('.submit');var button=form.find('[type="submit"]');var checks=form.find('.checkout_js__tos-check');var checkLength=checks.length;if(checkLength==checks.filter(':checked').length){button.prop('disabled',false);}else{button.prop('disabled',true);}});var nostoSlickSettings={infinite:true,slidesToShow:6,slidesToScroll:6,responsive:[{breakpoint:1025,settings:{slidesToShow:5,slidesToScroll:5}},{breakpoint:769,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:641,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:480,settings:{slidesToShow:2,slidesToScroll:2}}]};if(document.querySelector('body').classList.contains('page-products')){nostoSlickSettings={infinite:true,slidesToShow:10,slidesToScroll:10,responsive:[{breakpoint:2200,settings:{slidesToShow:6,slidesToScroll:6}},{breakpoint:1440,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:1024,settings:{slidesToShow:2,slidesToScroll:2}}]};}
var launchNosto=function(){if(jQuery('.nosto-list').length==2) { if(typeof jQuery('.nosto-list')[0].slick === 'undefined'){jQuery('.nosto-list').slick(nostoSlickSettings);}}}
launchNosto();var checkEmptyNostos=function(unfilledNostos){$(unfilledNostos).each(function(index,element){var emptyNosto=document.getElementById(element);$(emptyNosto).prev('h2').hide();});}
if(typeof nostojs==="function"){nostojs(function(api){api.listen('postrender',function(nostoPostRenderEvent){launchNosto();checkEmptyNostos(nostoPostRenderEvent.unFilledElements);});});}
jQuery('.js__home-slider').slick({infinite:true,slidesToShow:1,slidesToScroll:1,autoplay:true,autoplaySpeed:4500,speed:1000,arrows:false,useTransform:true,cssEase:'ease-in-out',mobileFirst:true,pauseOnHover:false,rows:0,responsive:[{breakpoint:1023,settings:{dots:true}}]});$("body").on('DOMSubtreeModified','#dfclassic',function(m){if($('#dfclassic').is(":hidden")){$('html, body').css({overflow:'auto',height:'auto'});}else{$('html, body').css({overflow:'hidden',height:'100%'});}});var numLimit=10;var brandsList=$('.brand-layered-items');var brandsListItems=brandsList.find('li');var textMore=brandsList.data('more');var textLess=brandsList.data('less');if(brandsListItems.length>numLimit){closeBrands();}
$('body').on('click','.brand-layered-items .more',function(e){openBrands();});$('body').on('click','.brand-layered-items .less',function(e){closeBrands();});function openBrands(){$.each(brandsListItems,function(index,value){$(this).show();});$('.brand-layered-items .more').remove();brandsList.append('<li class="item less"><a href="javascript: void(0)">'+textLess+' <span class="count">-</span></a></li>');}
function closeBrands(){$.each(brandsListItems,function(index,value){if(index>=numLimit){$(this).hide();}});$('.brand-layered-items .less').remove();brandsList.append('<li class="item more"><a href="javascript: void(0)">'+textMore+' <span class="count">+</span></a></li>');}
var $map_canvas=$('#lkt-map-stores');var $map_loading=$('.lkt-stores-map__loading');if($map_canvas.length!=0){var zoom=6;var map=L.map('lkt-map-stores',{minZoom:3}).setView([40.1,-3],zoom);var osmUrl='https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';var osmAttrib='Map data Â© <a href="https://openstreetmap.org">OpenStreetMap</a> contributors';L.tileLayer(osmUrl,{attribution:osmAttrib}).addTo(map);L.Icon.Default.imagePath=require.toUrl('images/stores/');$.ajax({dataType:"json",type:"GET",contentType:"application/json; charset=utf-8",url:BASE_URL+'pub/storesinfo/stores.json',beforeSend:function(){$map_loading.fadeIn(300);}}).done(function(dataMarkers){var $markersObj=$(dataMarkers);if($markersObj.length>0){$.each(dataMarkers,function(city,cityList){$.each(cityList,function(shopName,storeData){var loc=storeData.coordinates.split(",");L.marker(new L.LatLng(loc[0],loc[1]),{title:shopName}).addTo(map).bindPopup("<h4>"+shopName+"</h4>"+"<p>"+storeData.address1+"<br>"+
storeData.address2+"<br>"+
storeData.phone+"</p>");});});}else{console.log('No markers');}
$map_loading.fadeOut(300);}).fail(function(jqXHR,textStatus,errorThrown){console.error(jqXHR);console.error(textStatus);console.error(errorThrown);});}
var storesItems=$('.js__lkt-accordion-item');var storeClass='lkt-accordion-item--active';$('.js__lkt-accordion-trigger').click(function(e){e.preventDefault();storesItems.removeClass(storeClass);$(this).parent().addClass(storeClass);});$(".js__tab-link").on('click',function(e){e.preventDefault();var tabID=$(this).attr("href");$(".js__tab-link").removeClass("tabs__link--current");$('.tabs__content').removeClass("tabs__content--current");$(tabID).addClass("tabs__content--current");$(this).addClass("tabs__link--current");});$('#listingFilters').on('click',function(e){var textHide=$(this).data('text-hide');var textShow=$(this).data('text-show');$(this).toggleClass('open');$('.sidebar-main').toggleClass('open');if($(this).hasClass('open')){$(this).text(textHide);}else{$(this).text(textShow);}});});return;});